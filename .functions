function c() {
	cd "$1" && l
}

function mkd() {
	mkdir -p "$1" && cd "$1"
}

function gclone() {
	git clone https://github.com/"$1" && cd `basename "$1"` && echo "\n$(pwd)" && l
}

function caff() {
	caffeinate -t $((60 * $1)) &
	echo "caffeinated for $1 minute(s)"
}

function extractAttachment() {
	# e. g. extractAttachment mail.eml attachment.pdf
	perl -MMIME::Base64 -ne 'print decode_base64($_)' < "$1" > "$2"
}

function rewriteGitAuthor() {
	# see https://help.github.com/articles/changing-author-info/
	#
	# $1: old email
	# $2: new name
	# $3: new email
	git filter-branch --env-filter "
	OLD_EMAIL=\"$1\"
	CORRECT_NAME=\"$2\"
	CORRECT_EMAIL=\"$3\"
	if [ \"\$GIT_COMMITTER_EMAIL\" = \"\$OLD_EMAIL\" ]
	then
		export GIT_COMMITTER_NAME=\"\$CORRECT_NAME\"
		export GIT_COMMITTER_EMAIL=\"\$CORRECT_EMAIL\"
	fi
	if [ \"\$GIT_AUTHOR_EMAIL\" = \"\$OLD_EMAIL\" ]
	then
		export GIT_AUTHOR_NAME=\"\$CORRECT_NAME\"
		export GIT_AUTHOR_EMAIL=\"\$CORRECT_EMAIL\"
	fi
	" --tag-name-filter cat -- --branches --tags

	echo now push the corrected repository:
	echo "\t\tgit push --force --tags origin 'refs/heads/*'"
}
